<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Catálogo de Productos</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, sans-serif;
    text-align: center;
    padding: 20px;
    background: linear-gradient(135deg,#e3f2fd,#f1f8e9);
    color: #333;
  }
  h1 { color:#2c3e50; margin-bottom:10px; }
  input, textarea { padding:10px; margin:8px; border-radius:6px; border:1px solid #ccc; width:250px; }
  textarea { resize: vertical; height: 60px; }
  .hidden { display:none; }
  #contacto { margin-bottom: 20px; padding:20px; background:#2c3e50; color:white; border-radius:15px; }
  #contacto h3 { margin-bottom:10px; }
  #contacto p { margin:5px 0; font-size:1em; }
  #contacto a { color:#4cafef; text-decoration:none; font-weight:bold; }
  #productos { display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:20px; margin-top:20px; }
  .producto { background:white; padding:15px; border-radius:15px; box-shadow:0 4px 12px rgba(0,0,0,0.15); transition: transform .2s, box-shadow .2s; }
  .producto:hover { transform:translateY(-5px); box-shadow:0 8px 20px rgba(0,0,0,0.2); }
  .producto img { max-width:100%; border-radius:10px; margin-bottom:10px; }
  .producto h3 { margin:10px 0 5px; font-size:1.2em; color:#34495e; }
  .producto p { margin:5px 0; color:#555; }
  button { margin:6px; padding:10px 15px; border:none; border-radius:8px; cursor:pointer; font-weight:bold; transition: background .2s, transform .1s; }
  button:hover { transform:scale(1.05); }
  .btn-agregar { background:#4caf50; color:white; }
  .btn-agregar:hover { background:#43a047; }
  .btn-editar { background:#2196f3; color:white; }
  .btn-editar:hover { background:#1976d2; }
  .btn-eliminar { background:#e53935; color:white; }
  .btn-eliminar:hover { background:#c62828; }
  #adminPanel,#editPanel,#login { margin-top:30px; background:white; padding:20px; border-radius:15px; box-shadow:0 4px 12px rgba(0,0,0,0.15); display:none; }
  footer { margin-top:40px; padding:20px; color:#fff; }
</style>
</head>
<body>

<h1>📦 Catálogo de Productos</h1>

<!-- CONTACTO Y DIRECCIÓN -->
<div id="contacto">
  <h3>📞 Contacto</h3>
  <p>Teléfono: <a href="tel:3571314697">3571314697</a></p>
  <p>📍 Dirección: Pasaje Jerónimos Luis de Cabrera 874</p>
</div>

<!-- LOGIN ADMIN (Visible siempre) -->
<div id="login">
  <h2>Login Admin</h2>
  <input type="text" id="username" placeholder="Usuario">
  <input type="password" id="password" placeholder="Contraseña">
  <button class="btn-agregar" onclick="loginAdmin()">Entrar</button>
</div>

<!-- PRODUCTOS (Visible siempre) -->
<div id="productos"></div>

<!-- PANEL ADMIN (Solo aparece al loguearse) -->
<div id="adminPanel">
  <h2>Agregar Producto</h2>
  <input type="text" id="nombre" placeholder="Nombre del producto">
  <input type="number" id="precio" placeholder="Precio">
  <textarea id="descripcion" placeholder="Descripción del producto"></textarea>
  <input type="text" id="imagen" placeholder="URL de la imagen">
  <button class="btn-agregar" onclick="agregarProducto()">Agregar Producto</button>
</div>

<!-- PANEL EDICIÓN (Solo visible al editar) -->
<div id="editPanel">
  <h2>Editar Producto</h2>
  <input type="text" id="editNombre" placeholder="Nuevo nombre">
  <input type="number" id="editPrecio" placeholder="Nuevo precio">
  <textarea id="editDescripcion" placeholder="Nueva descripción"></textarea>
  <input type="text" id="editImagen" placeholder="Nueva URL imagen">
  <button class="btn-editar" onclick="guardarEdicion()">Guardar Cambios</button>
  <button class="btn-eliminar" onclick="cancelarEdicion()">Cancelar</button>
</div>

<script>
const ADMIN_USER = "Belen192226";
const ADMIN_PASS = "Fran192226";
let isAdmin = false;
let productos = [];
let editIndex = null;

// Inicializa: mostrar login y productos (solo vista pública)
document.getElementById("login").style.display = "block";
mostrarProductos();

// LOGIN ADMIN
function loginAdmin() {
  const user = document.getElementById("username").value;
  const pass = document.getElementById("password").value;
  if(user === ADMIN_USER && pass === ADMIN_PASS) {
    isAdmin = true;
    document.getElementById("login").style.display = "none";       // Oculta login
    document.getElementById("adminPanel").style.display = "block"; // Muestra panel admin
    mostrarProductos(); // Vuelve a renderizar con botones de editar/eliminar
  } else {
    alert("Usuario o contraseña incorrectos");
  }
}

// MOSTRAR PRODUCTOS
function mostrarProductos() {
  const cont = document.getElementById("productos");
  cont.innerHTML = "";
  productos.forEach((p,i)=>{
    let div = document.createElement("div");
    div.className = "producto";
    div.innerHTML=`
      <img src="${p.imagen}" alt="${p.nombre}">
      <h3>${p.nombre}</h3>
      <p>${p.descripcion}</p>
      <p>Precio: $${p.precio}</p>
      ${isAdmin ? `<button class="btn-editar" onclick="editarProducto(${i})">Editar</button>
                   <button class="btn-eliminar" onclick="eliminarProducto(${i})">Eliminar</button>` : ''}
    `;
    cont.appendChild(div);
  });
}

// AGREGAR PRODUCTO (solo admin)
function agregarProducto() {
  if(!isAdmin) return;
  const nombre = document.getElementById("nombre").value;
  const precio = document.getElementById("precio").value;
  const descripcion = document.getElementById("descripcion").value;
  const imagen = document.getElementById("imagen").value;
  if(nombre && precio && descripcion && imagen){
    productos.push({nombre, precio, descripcion, imagen});
    mostrarProductos();
    document.getElementById("nombre").value="";
    document.getElementById("precio").value="";
    document.getElementById("descripcion").value="";
    document.getElementById("imagen").value="";
  } else {
    alert("Complete todos los campos");
  }
}

// ELIMINAR PRODUCTO (solo admin)
function eliminarProducto(i){
  if(!isAdmin) return;
  productos.splice(i,1);
  mostrarProductos();
}

// EDITAR PRODUCTO (solo admin)
function editarProducto(i){
  if(!isAdmin) return;
  editIndex = i;
  document.getElementById("editNombre").value = productos[i].nombre;
  document.getElementById("editPrecio").value = productos[i].precio;
  document.getElementById("editDescripcion").value = productos[i].descripcion;
  document.getElementById("editImagen").value = productos[i].imagen;
  document.getElementById("editPanel").style.display = "block";
}

function guardarEdicion(){
  if(!isAdmin || editIndex === null) return;
  productos[editIndex].nombre = document.getElementById("editNombre").value;
  productos[editIndex].precio = document.getElementById("editPrecio").value;
  productos[editIndex].descripcion = document.getElementById("editDescripcion").value;
  productos[editIndex].imagen = document.getElementById("editImagen").value;
  mostrarProductos();
  cancelarEdicion();
}

function cancelarEdicion(){
  document.getElementById("editPanel").style.display = "none";
  editIndex = null;
}
</script>

</body>
</html>
